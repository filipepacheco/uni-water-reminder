version: 1
backend:
  phases:
    # Defines the deployment workflow
    build:
      commands:
        # Executes Amplify CLI commands during the build phase
        - amplifyPush --simple
  frontend:
    phases:
      # Defines the deployment workflow for the frontend
      build:
        # Specifies the frontend build commands
        commands:
          - npm ci # Installs dependencies using npm ci (or npm install if you prefer)
          - npm run build # Builds your React application
  artifacts:
    # Defines the artifacts for the build phase
    baseDirectory: ./build # Specifies the base directory for artifacts
    files:
      # Specifies the files to be included in the artifact
      - '**/*'
  cache:
    # Defines caching settings for Amplify CLI
    paths:
      - node_modules/**/*
